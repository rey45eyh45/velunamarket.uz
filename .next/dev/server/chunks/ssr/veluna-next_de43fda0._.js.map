{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/lib/supabase/client.ts"],"sourcesContent":["// =====================================================\r\n// SUPABASE CLIENT - Browser (Client Components)\r\n// =====================================================\r\n\r\nimport { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,wDAAwD;AACxD,gDAAgD;AAChD,wDAAwD;AAExD;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,mNAAmB;AAI5B"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/services/products.ts"],"sourcesContent":["// =====================================================\r\n// PRODUCTS SERVICE - API Layer\r\n// =====================================================\r\n\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport type { Product, Category, ProductFilters, PaginatedResponse } from '@/types';\r\n\r\nconst supabase = createClient();\r\n\r\n// Get all products with filters and pagination\r\nexport async function getProducts(\r\n  filters?: ProductFilters,\r\n  page: number = 1,\r\n  limit: number = 12\r\n): Promise<PaginatedResponse<Product>> {\r\n  let query = supabase\r\n    .from('products')\r\n    .select('*, category:categories(*)', { count: 'exact' })\r\n    .eq('is_active', true);\r\n\r\n  // Apply filters\r\n  if (filters?.category) {\r\n    query = query.eq('category_id', filters.category);\r\n  }\r\n\r\n  if (filters?.minPrice) {\r\n    query = query.gte('price', filters.minPrice);\r\n  }\r\n\r\n  if (filters?.maxPrice) {\r\n    query = query.lte('price', filters.maxPrice);\r\n  }\r\n\r\n  if (filters?.inStock) {\r\n    query = query.gt('stock', 0);\r\n  }\r\n\r\n  if (filters?.search) {\r\n    query = query.ilike('name', `%${filters.search}%`);\r\n  }\r\n\r\n  // Apply sorting\r\n  switch (filters?.sortBy) {\r\n    case 'price-asc':\r\n      query = query.order('price', { ascending: true });\r\n      break;\r\n    case 'price-desc':\r\n      query = query.order('price', { ascending: false });\r\n      break;\r\n    case 'newest':\r\n      query = query.order('created_at', { ascending: false });\r\n      break;\r\n    case 'popular':\r\n      query = query.order('reviews_count', { ascending: false });\r\n      break;\r\n    default:\r\n      query = query.order('created_at', { ascending: false });\r\n  }\r\n\r\n  // Pagination\r\n  const from = (page - 1) * limit;\r\n  const to = from + limit - 1;\r\n  query = query.range(from, to);\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching products:', error);\r\n    return { data: [], count: 0, page, limit, totalPages: 0 };\r\n  }\r\n\r\n  return {\r\n    data: data || [],\r\n    count: count || 0,\r\n    page,\r\n    limit,\r\n    totalPages: Math.ceil((count || 0) / limit),\r\n  };\r\n}\r\n\r\n// Get single product by slug\r\nexport async function getProductBySlug(slug: string): Promise<Product | null> {\r\n  const { data, error } = await supabase\r\n    .from('products')\r\n    .select('*, category:categories(*)')\r\n    .eq('slug', slug)\r\n    .eq('is_active', true)\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error fetching product:', error);\r\n    return null;\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\n// Get featured products\r\nexport async function getFeaturedProducts(limit: number = 8): Promise<Product[]> {\r\n  const { data, error } = await supabase\r\n    .from('products')\r\n    .select('*, category:categories(*)')\r\n    .eq('is_active', true)\r\n    .eq('is_featured', true)\r\n    .order('created_at', { ascending: false })\r\n    .limit(limit);\r\n\r\n  if (error) {\r\n    console.error('Error fetching featured products:', error);\r\n    return [];\r\n  }\r\n\r\n  return data || [];\r\n}\r\n\r\n// Get products by category\r\nexport async function getProductsByCategory(\r\n  categorySlug: string,\r\n  limit: number = 12\r\n): Promise<Product[]> {\r\n  const { data, error } = await supabase\r\n    .from('products')\r\n    .select('*, category:categories!inner(*)')\r\n    .eq('is_active', true)\r\n    .eq('category.slug', categorySlug)\r\n    .order('created_at', { ascending: false })\r\n    .limit(limit);\r\n\r\n  if (error) {\r\n    console.error('Error fetching products by category:', error);\r\n    return [];\r\n  }\r\n\r\n  return data || [];\r\n}\r\n\r\n// Get all categories\r\nexport async function getCategories(): Promise<Category[]> {\r\n  const { data, error } = await supabase\r\n    .from('categories')\r\n    .select('*')\r\n    .eq('is_active', true)\r\n    .order('sort_order', { ascending: true });\r\n\r\n  if (error) {\r\n    console.error('Error fetching categories:', error);\r\n    return [];\r\n  }\r\n\r\n  return data || [];\r\n}\r\n\r\n// Search products\r\nexport async function searchProducts(query: string, limit: number = 10): Promise<Product[]> {\r\n  const { data, error } = await supabase\r\n    .from('products')\r\n    .select('*, category:categories(*)')\r\n    .eq('is_active', true)\r\n    .ilike('name', `%${query}%`)\r\n    .limit(limit);\r\n\r\n  if (error) {\r\n    console.error('Error searching products:', error);\r\n    return [];\r\n  }\r\n\r\n  return data || [];\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/services/orders.ts"],"sourcesContent":["// =====================================================\r\n// ORDERS SERVICE - API Layer\r\n// =====================================================\r\n\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport type { Order, OrderItem, CheckoutFormData, CartItemLocal } from '@/types';\r\n\r\nconst supabase = createClient();\r\n\r\n// Create new order\r\nexport async function createOrder(\r\n  formData: CheckoutFormData,\r\n  items: CartItemLocal[],\r\n  userId?: string\r\n): Promise<{ order: Order | null; error: string | null }> {\r\n  // Calculate totals\r\n  const subtotal = items.reduce(\r\n    (sum, item) => sum + item.product.price * item.quantity,\r\n    0\r\n  );\r\n  const shippingCost = subtotal > 500000 ? 0 : 30000; // Free shipping over 500,000 som\r\n  const total = subtotal + shippingCost;\r\n\r\n  // Create order\r\n  const { data: order, error: orderError } = await supabase\r\n    .from('orders')\r\n    .insert({\r\n      user_id: userId || null,\r\n      status: 'pending',\r\n      payment_status: 'pending',\r\n      subtotal,\r\n      shipping_cost: shippingCost,\r\n      discount: 0,\r\n      total,\r\n      customer_name: formData.customer_name,\r\n      customer_phone: formData.customer_phone,\r\n      customer_email: formData.customer_email || null,\r\n      shipping_address: formData.shipping_address,\r\n      shipping_city: formData.shipping_city,\r\n      payment_method: formData.payment_method,\r\n      notes: formData.notes || null,\r\n    })\r\n    .select()\r\n    .single();\r\n\r\n  if (orderError) {\r\n    console.error('Error creating order:', orderError);\r\n    return { order: null, error: 'Buyurtma yaratishda xatolik' };\r\n  }\r\n\r\n  // Create order items\r\n  const orderItems = items.map((item) => ({\r\n    order_id: order.id,\r\n    product_id: item.product.id,\r\n    product_name: item.product.name,\r\n    product_image: item.product.image_url,\r\n    price: item.product.price,\r\n    quantity: item.quantity,\r\n    total: item.product.price * item.quantity,\r\n  }));\r\n\r\n  const { error: itemsError } = await supabase\r\n    .from('order_items')\r\n    .insert(orderItems);\r\n\r\n  if (itemsError) {\r\n    console.error('Error creating order items:', itemsError);\r\n    // Rollback order\r\n    await supabase.from('orders').delete().eq('id', order.id);\r\n    return { order: null, error: 'Buyurtma yaratishda xatolik' };\r\n  }\r\n\r\n  return { order, error: null };\r\n}\r\n\r\n// Get user orders\r\nexport async function getUserOrders(userId: string): Promise<Order[]> {\r\n  const { data, error } = await supabase\r\n    .from('orders')\r\n    .select('*, items:order_items(*)')\r\n    .eq('user_id', userId)\r\n    .order('created_at', { ascending: false });\r\n\r\n  if (error) {\r\n    console.error('Error fetching user orders:', error);\r\n    return [];\r\n  }\r\n\r\n  return data || [];\r\n}\r\n\r\n// Get order by ID\r\nexport async function getOrderById(orderId: string): Promise<Order | null> {\r\n  const { data, error } = await supabase\r\n    .from('orders')\r\n    .select('*, items:order_items(*)')\r\n    .eq('id', orderId)\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error fetching order:', error);\r\n    return null;\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\n// Get order by order number\r\nexport async function getOrderByNumber(orderNumber: string): Promise<Order | null> {\r\n  const { data, error } = await supabase\r\n    .from('orders')\r\n    .select('*, items:order_items(*)')\r\n    .eq('order_number', orderNumber)\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error fetching order:', error);\r\n    return null;\r\n  }\r\n\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA,wDAAwD;AACxD,6BAA6B;AAC7B,wDAAwD;AAExD;;AAGA,MAAM,WAAW,IAAA,2JAAY;AAGtB,eAAe,YACpB,QAA0B,EAC1B,KAAsB,EACtB,MAAe;IAEf,mBAAmB;IACnB,MAAM,WAAW,MAAM,MAAM,CAC3B,CAAC,KAAK,OAAS,MAAM,KAAK,OAAO,CAAC,KAAK,GAAG,KAAK,QAAQ,EACvD;IAEF,MAAM,eAAe,WAAW,SAAS,IAAI,OAAO,iCAAiC;IACrF,MAAM,QAAQ,WAAW;IAEzB,eAAe;IACf,MAAM,EAAE,MAAM,KAAK,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,SAC9C,IAAI,CAAC,UACL,MAAM,CAAC;QACN,SAAS,UAAU;QACnB,QAAQ;QACR,gBAAgB;QAChB;QACA,eAAe;QACf,UAAU;QACV;QACA,eAAe,SAAS,aAAa;QACrC,gBAAgB,SAAS,cAAc;QACvC,gBAAgB,SAAS,cAAc,IAAI;QAC3C,kBAAkB,SAAS,gBAAgB;QAC3C,eAAe,SAAS,aAAa;QACrC,gBAAgB,SAAS,cAAc;QACvC,OAAO,SAAS,KAAK,IAAI;IAC3B,GACC,MAAM,GACN,MAAM;IAET,IAAI,YAAY;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;YAAE,OAAO;YAAM,OAAO;QAA8B;IAC7D;IAEA,qBAAqB;IACrB,MAAM,aAAa,MAAM,GAAG,CAAC,CAAC,OAAS,CAAC;YACtC,UAAU,MAAM,EAAE;YAClB,YAAY,KAAK,OAAO,CAAC,EAAE;YAC3B,cAAc,KAAK,OAAO,CAAC,IAAI;YAC/B,eAAe,KAAK,OAAO,CAAC,SAAS;YACrC,OAAO,KAAK,OAAO,CAAC,KAAK;YACzB,UAAU,KAAK,QAAQ;YACvB,OAAO,KAAK,OAAO,CAAC,KAAK,GAAG,KAAK,QAAQ;QAC3C,CAAC;IAED,MAAM,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,eACL,MAAM,CAAC;IAEV,IAAI,YAAY;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,iBAAiB;QACjB,MAAM,SAAS,IAAI,CAAC,UAAU,MAAM,GAAG,EAAE,CAAC,MAAM,MAAM,EAAE;QACxD,OAAO;YAAE,OAAO;YAAM,OAAO;QAA8B;IAC7D;IAEA,OAAO;QAAE;QAAO,OAAO;IAAK;AAC9B;AAGO,eAAe,cAAc,MAAc;IAChD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,UACL,MAAM,CAAC,2BACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,EAAE;IACX;IAEA,OAAO,QAAQ,EAAE;AACnB;AAGO,eAAe,aAAa,OAAe;IAChD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,UACL,MAAM,CAAC,2BACP,EAAE,CAAC,MAAM,SACT,MAAM;IAET,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;IACT;IAEA,OAAO;AACT;AAGO,eAAe,iBAAiB,WAAmB;IACxD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,UACL,MAAM,CAAC,2BACP,EAAE,CAAC,gBAAgB,aACnB,MAAM;IAET,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/services/auth.ts"],"sourcesContent":["// =====================================================\r\n// AUTH SERVICE - API Layer\r\n// =====================================================\r\n\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport type { User, Profile, LoginFormData, RegisterFormData } from '@/types';\r\n\r\nconst supabase = createClient();\r\n\r\n// Sign in with email\r\nexport async function signIn(\r\n  data: LoginFormData\r\n): Promise<{ user: User | null; error: string | null }> {\r\n  const { data: authData, error } = await supabase.auth.signInWithPassword({\r\n    email: data.email,\r\n    password: data.password,\r\n  });\r\n\r\n  if (error) {\r\n    console.error('Sign in error:', error);\r\n    return { user: null, error: 'Email yoki parol noto\\'g\\'ri' };\r\n  }\r\n\r\n  return {\r\n    user: authData.user\r\n      ? {\r\n          id: authData.user.id,\r\n          email: authData.user.email,\r\n          phone: authData.user.phone,\r\n          created_at: authData.user.created_at,\r\n        }\r\n      : null,\r\n    error: null,\r\n  };\r\n}\r\n\r\n// Sign up with email\r\nexport async function signUp(\r\n  data: RegisterFormData\r\n): Promise<{ user: User | null; error: string | null }> {\r\n  const { data: authData, error } = await supabase.auth.signUp({\r\n    email: data.email,\r\n    password: data.password,\r\n    options: {\r\n      data: {\r\n        full_name: data.full_name,\r\n        phone: data.phone,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (error) {\r\n    console.error('Sign up error:', error);\r\n    if (error.message.includes('already registered')) {\r\n      return { user: null, error: 'Bu email allaqachon ro\\'yxatdan o\\'tgan' };\r\n    }\r\n    return { user: null, error: 'Ro\\'yxatdan o\\'tishda xatolik' };\r\n  }\r\n\r\n  // Create profile\r\n  if (authData.user) {\r\n    await supabase.from('profiles').insert({\r\n      id: authData.user.id,\r\n      full_name: data.full_name,\r\n      phone: data.phone,\r\n    });\r\n  }\r\n\r\n  return {\r\n    user: authData.user\r\n      ? {\r\n          id: authData.user.id,\r\n          email: authData.user.email,\r\n          phone: authData.user.phone,\r\n          created_at: authData.user.created_at,\r\n        }\r\n      : null,\r\n    error: null,\r\n  };\r\n}\r\n\r\n// Sign out\r\nexport async function signOut(): Promise<{ error: string | null }> {\r\n  const { error } = await supabase.auth.signOut();\r\n\r\n  if (error) {\r\n    console.error('Sign out error:', error);\r\n    return { error: 'Chiqishda xatolik' };\r\n  }\r\n\r\n  return { error: null };\r\n}\r\n\r\n// Get current user\r\nexport async function getCurrentUser(): Promise<User | null> {\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (!user) return null;\r\n\r\n  return {\r\n    id: user.id,\r\n    email: user.email,\r\n    phone: user.phone,\r\n    created_at: user.created_at,\r\n  };\r\n}\r\n\r\n// Get user profile\r\nexport async function getProfile(userId: string): Promise<Profile | null> {\r\n  const { data, error } = await supabase\r\n    .from('profiles')\r\n    .select('*')\r\n    .eq('id', userId)\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error fetching profile:', error);\r\n    return null;\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\n// Update user profile\r\nexport async function updateProfile(\r\n  userId: string,\r\n  updates: Partial<Profile>\r\n): Promise<{ profile: Profile | null; error: string | null }> {\r\n  const { data, error } = await supabase\r\n    .from('profiles')\r\n    .update(updates)\r\n    .eq('id', userId)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error updating profile:', error);\r\n    return { profile: null, error: 'Profilni yangilashda xatolik' };\r\n  }\r\n\r\n  return { profile: data, error: null };\r\n}\r\n\r\n// Reset password\r\nexport async function resetPassword(\r\n  email: string\r\n): Promise<{ error: string | null }> {\r\n  const { error } = await supabase.auth.resetPasswordForEmail(email, {\r\n    redirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/reset-password`,\r\n  });\r\n\r\n  if (error) {\r\n    console.error('Reset password error:', error);\r\n    return { error: 'Xatolik yuz berdi' };\r\n  }\r\n\r\n  return { error: null };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,wDAAwD;AACxD,2BAA2B;AAC3B,wDAAwD;AAExD;;AAGA,MAAM,WAAW,IAAA,2JAAY;AAGtB,eAAe,OACpB,IAAmB;IAEnB,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;QACvE,OAAO,KAAK,KAAK;QACjB,UAAU,KAAK,QAAQ;IACzB;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,kBAAkB;QAChC,OAAO;YAAE,MAAM;YAAM,OAAO;QAA+B;IAC7D;IAEA,OAAO;QACL,MAAM,SAAS,IAAI,GACf;YACE,IAAI,SAAS,IAAI,CAAC,EAAE;YACpB,OAAO,SAAS,IAAI,CAAC,KAAK;YAC1B,OAAO,SAAS,IAAI,CAAC,KAAK;YAC1B,YAAY,SAAS,IAAI,CAAC,UAAU;QACtC,IACA;QACJ,OAAO;IACT;AACF;AAGO,eAAe,OACpB,IAAsB;IAEtB,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;QAC3D,OAAO,KAAK,KAAK;QACjB,UAAU,KAAK,QAAQ;QACvB,SAAS;YACP,MAAM;gBACJ,WAAW,KAAK,SAAS;gBACzB,OAAO,KAAK,KAAK;YACnB;QACF;IACF;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,kBAAkB;QAChC,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,uBAAuB;YAChD,OAAO;gBAAE,MAAM;gBAAM,OAAO;YAA0C;QACxE;QACA,OAAO;YAAE,MAAM;YAAM,OAAO;QAAgC;IAC9D;IAEA,iBAAiB;IACjB,IAAI,SAAS,IAAI,EAAE;QACjB,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;YACrC,IAAI,SAAS,IAAI,CAAC,EAAE;YACpB,WAAW,KAAK,SAAS;YACzB,OAAO,KAAK,KAAK;QACnB;IACF;IAEA,OAAO;QACL,MAAM,SAAS,IAAI,GACf;YACE,IAAI,SAAS,IAAI,CAAC,EAAE;YACpB,OAAO,SAAS,IAAI,CAAC,KAAK;YAC1B,OAAO,SAAS,IAAI,CAAC,KAAK;YAC1B,YAAY,SAAS,IAAI,CAAC,UAAU;QACtC,IACA;QACJ,OAAO;IACT;AACF;AAGO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE7C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO;YAAE,OAAO;QAAoB;IACtC;IAEA,OAAO;QAAE,OAAO;IAAK;AACvB;AAGO,eAAe;IACpB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,IAAI,CAAC,MAAM,OAAO;IAElB,OAAO;QACL,IAAI,KAAK,EAAE;QACX,OAAO,KAAK,KAAK;QACjB,OAAO,KAAK,KAAK;QACjB,YAAY,KAAK,UAAU;IAC7B;AACF;AAGO,eAAe,WAAW,MAAc;IAC7C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QACT,MAAM;IAET,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;IAEA,OAAO;AACT;AAGO,eAAe,cACpB,MAAc,EACd,OAAyB;IAEzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,SACP,EAAE,CAAC,MAAM,QACT,MAAM,GACN,MAAM;IAET,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,SAAS;YAAM,OAAO;QAA+B;IAChE;IAEA,OAAO;QAAE,SAAS;QAAM,OAAO;IAAK;AACtC;AAGO,eAAe,cACpB,KAAa;IAEb,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,qBAAqB,CAAC,OAAO;QACjE,YAAY,6DAAoC,oBAAoB,CAAC;IACvE;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;YAAE,OAAO;QAAoB;IACtC;IAEA,OAAO;QAAE,OAAO;IAAK;AACvB"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/services/banners.ts"],"sourcesContent":["// =====================================================\r\n// BANNERS SERVICE - API Layer\r\n// =====================================================\r\n\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport type { Banner } from '@/types';\r\n\r\nconst supabase = createClient();\r\n\r\n// Get all active banners\r\nexport async function getBanners(): Promise<Banner[]> {\r\n  const { data, error } = await supabase\r\n    .from('banners')\r\n    .select('*')\r\n    .eq('is_active', true)\r\n    .order('sort_order', { ascending: true });\r\n\r\n  if (error) {\r\n    console.error('Error fetching banners:', error);\r\n    return [];\r\n  }\r\n\r\n  return data || [];\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,wDAAwD;AACxD,8BAA8B;AAC9B,wDAAwD;AAExD;;AAGA,MAAM,WAAW,IAAA,2JAAY;AAGtB,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,MAChB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAK;IAEzC,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;IAEA,OAAO,QAAQ,EAAE;AACnB"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/services/index.ts"],"sourcesContent":["export * from './products';\r\nexport * from './orders';\r\nexport * from './auth';\r\nexport * from './banners';\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/lib/utils.ts"],"sourcesContent":["// =====================================================\r\n// UTILITY FUNCTIONS\r\n// =====================================================\r\n\r\nimport { type ClassValue, clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\n// Tailwind class merge utility\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\n// Format price in Uzbek som\r\nexport function formatPrice(price: number): string {\r\n  return new Intl.NumberFormat('uz-UZ', {\r\n    style: 'decimal',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n  }).format(price) + ' so\\'m';\r\n}\r\n\r\n// Calculate discount percentage\r\nexport function calculateDiscount(price: number, originalPrice?: number): number {\r\n  if (!originalPrice || originalPrice <= price) return 0;\r\n  return Math.round((1 - price / originalPrice) * 100);\r\n}\r\n\r\n// Generate slug from text\r\nexport function slugify(text: string): string {\r\n  return text\r\n    .toString()\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/\\s+/g, '-')\r\n    .replace(/[^\\w\\-]+/g, '')\r\n    .replace(/\\-\\-+/g, '-');\r\n}\r\n\r\n// Truncate text\r\nexport function truncate(text: string, length: number): string {\r\n  if (text.length <= length) return text;\r\n  return text.slice(0, length) + '...';\r\n}\r\n\r\n// Format date\r\nexport function formatDate(date: string | Date): string {\r\n  return new Intl.DateTimeFormat('uz-UZ', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  }).format(new Date(date));\r\n}\r\n\r\n// Format relative time\r\nexport function formatRelativeTime(date: string | Date): string {\r\n  const now = new Date();\r\n  const past = new Date(date);\r\n  const diffMs = now.getTime() - past.getTime();\r\n  const diffMins = Math.floor(diffMs / 60000);\r\n  const diffHours = Math.floor(diffMs / 3600000);\r\n  const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n  if (diffMins < 1) return 'Hozirgina';\r\n  if (diffMins < 60) return `${diffMins} daqiqa oldin`;\r\n  if (diffHours < 24) return `${diffHours} soat oldin`;\r\n  if (diffDays < 7) return `${diffDays} kun oldin`;\r\n  return formatDate(date);\r\n}\r\n\r\n// Validate phone number (Uzbekistan format)\r\nexport function validatePhone(phone: string): boolean {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return /^998\\d{9}$/.test(cleaned) || /^\\d{9}$/.test(cleaned);\r\n}\r\n\r\n// Format phone number\r\nexport function formatPhone(phone: string): string {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  if (cleaned.length === 9) {\r\n    return `+998 ${cleaned.slice(0, 2)} ${cleaned.slice(2, 5)} ${cleaned.slice(5, 7)} ${cleaned.slice(7)}`;\r\n  }\r\n  if (cleaned.length === 12 && cleaned.startsWith('998')) {\r\n    return `+${cleaned.slice(0, 3)} ${cleaned.slice(3, 5)} ${cleaned.slice(5, 8)} ${cleaned.slice(8, 10)} ${cleaned.slice(10)}`;\r\n  }\r\n  return phone;\r\n}\r\n\r\n// Validate email\r\nexport function validateEmail(email: string): boolean {\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n}\r\n\r\n// Get order status label\r\nexport function getOrderStatusLabel(status: string): string {\r\n  const labels: Record<string, string> = {\r\n    pending: 'Kutilmoqda',\r\n    confirmed: 'Tasdiqlangan',\r\n    processing: 'Jarayonda',\r\n    shipped: 'Yo\\'lda',\r\n    delivered: 'Yetkazildi',\r\n    cancelled: 'Bekor qilindi',\r\n  };\r\n  return labels[status] || status;\r\n}\r\n\r\n// Get order status color\r\nexport function getOrderStatusColor(status: string): string {\r\n  const colors: Record<string, string> = {\r\n    pending: 'text-yellow-600 bg-yellow-100',\r\n    confirmed: 'text-blue-600 bg-blue-100',\r\n    processing: 'text-purple-600 bg-purple-100',\r\n    shipped: 'text-orange-600 bg-orange-100',\r\n    delivered: 'text-green-600 bg-green-100',\r\n    cancelled: 'text-red-600 bg-red-100',\r\n  };\r\n  return colors[status] || 'text-gray-600 bg-gray-100';\r\n}\r\n\r\n// Debounce function\r\nexport function debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout;\r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func(...args), wait);\r\n  };\r\n}\r\n\r\n// Local storage helpers with SSR check\r\nexport const storage = {\r\n  get: <T>(key: string, defaultValue: T): T => {\r\n    if (typeof window === 'undefined') return defaultValue;\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : defaultValue;\r\n    } catch {\r\n      return defaultValue;\r\n    }\r\n  },\r\n  set: <T>(key: string, value: T): void => {\r\n    if (typeof window === 'undefined') return;\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n    } catch {}\r\n  },\r\n  remove: (key: string): void => {\r\n    if (typeof window === 'undefined') return;\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch {}\r\n  },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 638, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/veluna%20market/veluna-next/app/profile/ProfileContent.tsx"],"sourcesContent":["// =====================================================\r\n// PROFILE CONTENT CLIENT COMPONENT\r\n// =====================================================\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { User } from '@supabase/supabase-js';\r\nimport { Button, Badge } from '@/components/ui';\r\nimport { authService } from '@/services';\r\nimport { useAuthStore } from '@/store';\r\nimport toast from 'react-hot-toast';\r\nimport { useRouter } from 'next/navigation';\r\nimport { formatPrice } from '@/lib/utils';\r\nimport { Order } from '@/types';\r\n\r\ninterface ProfileContentProps {\r\n  user: User;\r\n  profile: any;\r\n  orders: Order[];\r\n}\r\n\r\nexport default function ProfileContent({ user, profile, orders }: ProfileContentProps) {\r\n  const router = useRouter();\r\n  const { logout } = useAuthStore();\r\n  const [activeTab, setActiveTab] = useState<'profile' | 'orders'>('profile');\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await authService.logout();\r\n      logout();\r\n      toast.success('Tizimdan chiqdingiz');\r\n      router.push('/');\r\n    } catch (error) {\r\n      toast.error('Xatolik yuz berdi');\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status: string) => {\r\n    switch (status) {\r\n      case 'pending': return 'Kutilmoqda';\r\n      case 'processing': return 'Tayyorlanmoqda';\r\n      case 'shipped': return 'Jo\\'natildi';\r\n      case 'delivered': return 'Yetkazildi';\r\n      case 'cancelled': return 'Bekor qilindi';\r\n      default: return status;\r\n    }\r\n  };\r\n\r\n  const getStatusVariant = (status: string): 'default' | 'success' | 'warning' | 'danger' => {\r\n    switch (status) {\r\n      case 'delivered': return 'success';\r\n      case 'pending': return 'warning';\r\n      case 'cancelled': return 'danger';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid lg:grid-cols-4 gap-8\">\r\n      {/* Sidebar */}\r\n      <div className=\"lg:col-span-1\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm\">\r\n          <div className=\"text-center mb-6\">\r\n            <div className=\"w-20 h-20 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <span className=\"text-3xl font-bold text-primary-600\">\r\n                {profile?.full_name?.[0] || user.email?.[0]?.toUpperCase() || 'U'}\r\n              </span>\r\n            </div>\r\n            <h2 className=\"font-semibold\">{profile?.full_name || 'Foydalanuvchi'}</h2>\r\n            <p className=\"text-sm text-gray-500\">{user.email}</p>\r\n          </div>\r\n\r\n          <nav className=\"space-y-2\">\r\n            <button\r\n              onClick={() => setActiveTab('profile')}\r\n              className={`w-full text-left px-4 py-2 rounded-lg transition-colors ${\r\n                activeTab === 'profile'\r\n                  ? 'bg-primary-50 dark:bg-primary-900/20 text-primary-600'\r\n                  : 'hover:bg-gray-100 dark:hover:bg-gray-700'\r\n              }`}\r\n            >\r\n              Profil ma'lumotlari\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('orders')}\r\n              className={`w-full text-left px-4 py-2 rounded-lg transition-colors ${\r\n                activeTab === 'orders'\r\n                  ? 'bg-primary-50 dark:bg-primary-900/20 text-primary-600'\r\n                  : 'hover:bg-gray-100 dark:hover:bg-gray-700'\r\n              }`}\r\n            >\r\n              Buyurtmalarim ({orders.length})\r\n            </button>\r\n          </nav>\r\n\r\n          <hr className=\"my-6\" />\r\n\r\n          <Button \r\n            variant=\"outline\" \r\n            className=\"w-full text-red-500 border-red-500 hover:bg-red-50\"\r\n            onClick={handleLogout}\r\n          >\r\n            Chiqish\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"lg:col-span-3\">\r\n        {activeTab === 'profile' && (\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm\">\r\n            <h3 className=\"text-xl font-semibold mb-6\">Profil ma'lumotlari</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500\">To'liq ism</label>\r\n                  <p className=\"font-medium\">{profile?.full_name || 'Kiritilmagan'}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500\">Email</label>\r\n                  <p className=\"font-medium\">{user.email}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500\">Telefon</label>\r\n                  <p className=\"font-medium\">{profile?.phone || 'Kiritilmagan'}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500\">Manzil</label>\r\n                  <p className=\"font-medium\">{profile?.address || 'Kiritilmagan'}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"pt-4\">\r\n                <Button>Ma'lumotlarni tahrirlash</Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'orders' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm\">\r\n              <h3 className=\"text-xl font-semibold mb-6\">Buyurtmalarim</h3>\r\n            </div>\r\n\r\n            {orders.length === 0 ? (\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-12 text-center\">\r\n                <p className=\"text-gray-500\">Buyurtmalar topilmadi</p>\r\n              </div>\r\n            ) : (\r\n              orders.map((order) => (\r\n                <div\r\n                  key={order.id}\r\n                  className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm\"\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Buyurtma #{order.id.slice(0, 8)}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-400\">\r\n                        {new Date(order.created_at).toLocaleDateString('uz-UZ')}\r\n                      </p>\r\n                    </div>\r\n                    <Badge variant={getStatusVariant(order.status)}>\r\n                      {getStatusText(order.status)}\r\n                    </Badge>\r\n                  </div>\r\n\r\n                  {order.items && order.items.length > 0 && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <div className=\"space-y-2\">\r\n                        {order.items.map((item, idx: number) => (\r\n                          <div key={idx} className=\"flex justify-between text-sm\">\r\n                            <span>\r\n                              {item.product_name || 'Mahsulot'} Ã— {item.quantity}\r\n                            </span>\r\n                            <span>{formatPrice(item.price * item.quantity)}</span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      <div className=\"border-t mt-4 pt-4 flex justify-between font-semibold\">\r\n                        <span>Jami:</span>\r\n                        <span className=\"text-primary-600\">\r\n                          {formatPrice(order.total)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}